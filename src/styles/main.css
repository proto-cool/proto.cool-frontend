@import "tailwindcss";

/* base layer imports */
@import "./fonts.css" layer(base);
@import "./themes.css" layer(base);

/* component layer imports */
@import "./buttons.css" layer(components);

/* tailwind V4 configuration */
@theme {
    /* theme colors - for theme utility classes */
    --color-theme-bg-primary: var(--color-bg-primary);
    --color-theme-bg-secondary: var(--color-bg-secondary);
    --color-theme-bg-tertiary: var(--color-bg-tertiary);
    --color-theme-fg-primary: var(--color-fg-primary);
    --color-theme-fg-secondary: var(--color-fg-secondary);
    --color-theme-fg-tertiary: var(--color-fg-tertiary);
    --color-theme-color-primary: var(--color-primary);
    --color-theme-color-secondary: var(--color-secondary);
    --color-theme-color-tertiary: var(--color-tertiary);

    /* font declarations */
    --font-sans: "Bio Sans", "Helvetica", "Segoe UI", "Arial", "sans-serif", "Apple Color Emoji", "Segoe UI Emoji",
        "Segoe UI Symbol";

    --font-mono: "CommitMono", "monospace";
    --font-cool: "Chinook", "sans-serif";

    /* breakpoints for responsiveness */
    --breakpoint-*: initial;
    --breakpoint-xs: 24rem;
    --breakpoint-sm: 32rem;
    --breakpoint-md: 48rem;
    --breakpoint-lg: 64rem;
    --breakpoint-xl: 72rem;
}

/* control dark mode with a data-theme attribute */
@custom-variant dark (&:where([data-theme=obsidian], [data-theme=abyss], [data-theme=everglade], [data-theme=ember], [data-theme=void], [data-theme=obsidian] *, [data-theme=abyss] *, [data-theme=everglade] *, [data-theme=ember] *, [data-theme=void] *));

/* Utility classes */
@utility text-glow {
    text-shadow: 0 0 3px currentColor;
}

@utility text-glow-md {
    text-shadow: 0 0 5px currentColor;
}

@utility text-glow-lg {
    text-shadow: 0 0 8px currentColor;
}

@utility container {
    @apply mx-auto px-4 md:px-8 lg:px-16;
}

@utility img-tint {
    @apply relative overflow-hidden;
    &::after {
        content: "";
        @apply absolute inset-0 pointer-events-none;
        background: radial-gradient(circle at 0% 0%, var(--color-theme-color-primary) 0%, transparent 80%);
        mix-blend-mode: overlay;
        opacity: 0.6;
    }
}

@utility img-tint-saturated {
    @apply relative overflow-hidden;
    &::after {
        content: "";
        @apply absolute inset-0 pointer-events-none;
        background: 
            radial-gradient(circle at 0% 0%, var(--color-theme-color-primary) 0%, transparent 90%),
            radial-gradient(circle at 100% 100%, var(--color-theme-color-secondary) 0%, transparent 70%);
        mix-blend-mode: overlay;
        opacity: 0.8;
    }
}

/* Core theme styles */
@layer base {
    :root {
        @apply font-sans text-lg leading-[1.8rem];
        @apply text-theme-fg-primary bg-theme-bg-primary;
        @apply scroll-smooth;
        scrollbar-gutter: stable;
    }

    /* Prevent scrolling when the mobile nav is open */
    :root:has(#nav[data-nav-state="mobile-open"]),
    :root:has(#nav[data-nav-state="mobile-open"]) body {
        @apply overflow-hidden;
    }

    body * {
        @apply transition-colors transition-shadow duration-200;
    }
}

/* Component style declarations */
@layer components {
    h1 {
        @apply text-4xl font-medium sm:text-5xl text-balance;
    }

    h2 {
        @apply text-3xl font-medium sm:text-4xl text-balance;
    }

    h3 {
        @apply text-2xl font-medium sm:text-2xl text-balance;
    }

    h4 {
        @apply text-xl font-medium sm:text-lg text-balance;
    }

    h1,
    h2,
    h3,
    h4 {
        @apply text-theme-fg-primary scroll-m-32;
    }

    .description {
        @apply text-theme-fg-secondary text-pretty;
    }

    /* Text Gradients */
    @keyframes gradient-flow {
        from {
            background-position: 0% 0%;
        }
        to {
            background-position: 200% 0%;
        }
    }

    .text-gradient {
        @apply bg-clip-text text-transparent bg-[length:200%_auto] animate-[gradient-flow_8s_linear_infinite];
        background-image: linear-gradient(
            45deg,
            var(--color-primary) 0%,
            var(--color-secondary) 25%,
            var(--color-tertiary) 50%,
            var(--color-secondary) 75%,
            var(--color-primary) 100%
        );
    }

    .social-links svg {
        fill: currentColor;
    }

    .underline-hover {
        @apply bg-gradient-to-r from-theme-color-primary to-theme-color-primary bg-[length:0%_2px] bg-left-bottom bg-no-repeat transition-[background-size] duration-300 hover:bg-[length:100%_2px];
    }

    .underline-hover-group {
        @apply bg-gradient-to-r from-theme-color-primary to-theme-color-primary bg-[length:0%_2px] bg-left-bottom bg-no-repeat transition-[background-size] duration-300 group-hover:bg-[length:100%_2px];
    }
}
