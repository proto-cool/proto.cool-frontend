---
import SiteConfig from "@/site.config";

// main layout
import BaseLayout from "./BaseLayout.astro";

// components
import TagCloud from "@components/blog/tags/TagCloud.astro";
import Card from "@components/core/Card.astro";

// style import
import "@/styles/blog.css";

interface Props {
    title: string;
    image?: ImageMetadata;
    description?: string;
    noindex?: boolean; // you need to opt-in to no indexing, as it hides the page from search engines
}

const { title, description, image, noindex } = Astro.props as Props;
---

<BaseLayout
    type="base"
    title={`${title} â€” ${SiteConfig.name}`}
    description={description}
    noindex={noindex}
>
    <div class="w-full lg:grid lg:grid-cols-3 gap-12">
        <!--Content-->
        <div class:list={["text-base-content text-base", "lg:col-span-2 lg:col-start-1"]}>
            <slot />
        </div>

        <!--Tag content & sidebar-->
        <aside class="col-span-3 mt-8 lg:col-span-1 lg:mt-0">
            <Card
                title="post tags"
                icon={`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4 text-theme-color-primary"><path fill-rule="evenodd" d="M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39.92 3.31 0l4.318-4.317a2.341 2.341 0 0 0 0-3.31l-9.581-9.58a3 3 0 0 0-2.121-.879H5.25ZM6.5 7.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z" clip-rule="evenodd" /></svg>`}
                class="sticky top-32 w-full bg-transparent border border-theme-bg-tertiary"
                data-cascade="fadeIn"
                data-cascade-delay="0.1"
            >
                <TagCloud showCount={true} />
            </Card>
        </aside>
    </div>
    <slot name="pagination" />
</BaseLayout>
